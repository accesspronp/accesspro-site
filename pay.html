<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AccesProNp ‚Äî Pay / Order</title>
  <meta name="description" content="AccesProNp ‚Äî Pay and order subscriptions in Nepal." />
  <link rel="icon" type="image/png" href="logo.png">

  <style>
    :root{
      --bg:#f6f7fb;
      --panel: rgba(0,0,0,.04);
      --panel2: rgba(0,0,0,.02);
      --text:#0b1020;
      --muted:#4b5563;
      --border: rgba(0,0,0,.12);
      --shadow: 0 18px 60px rgba(0,0,0,.12);

      --a1:#7C3AED;
      --a2:#22D3EE;

      --r:18px;
      --btn: linear-gradient(135deg, var(--a1), var(--a2));
      --btn2: rgba(0,0,0,.05);
    }

    /* ‚úÖ DARK MODE */
    [data-theme="dark"]{
      --bg:#070a12;
      --panel: rgba(255,255,255,.06);
      --panel2: rgba(255,255,255,.04);
      --text:#eef2ff;
      --muted:#a0a6b3;
      --border: rgba(255,255,255,.14);
      --shadow: 0 18px 60px rgba(0,0,0,.55);
      --btn2: rgba(255,255,255,.08);
    }

    *{box-sizing:border-box}
    html,body{margin:0;padding:0}
    body{
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--text);
      background:
        radial-gradient(1100px 600px at 15% 10%, rgba(124,58,237,.16), transparent 60%),
        radial-gradient(900px 500px at 90% 10%, rgba(34,211,238,.12), transparent 55%),
        radial-gradient(900px 500px at 70% 100%, rgba(16,185,129,.10), transparent 55%),
        var(--bg);
      overflow-x:hidden;
    }

    a{color:inherit;text-decoration:none}
    .container{width:min(1120px, 92vw); margin:0 auto}

    .header{
      position:sticky; top:0; z-index:50;
      background: rgba(255,255,255,.78);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
    }
    [data-theme="dark"] .header{ background: rgba(10,12,18,.78); }

    .header-row{
      display:flex; align-items:center; justify-content:space-between;
      padding:14px 0; gap:12px;
    }
    .brand{display:flex; align-items:center; gap:10px}
    .brand img{
      width:46px; height:46px; object-fit:contain;
      border-radius:14px;
      background: rgba(0,0,0,.02);
      border: 1px solid var(--border);
      box-shadow: 0 10px 30px rgba(0,0,0,.10);
    }

    .nav{display:flex; align-items:center; gap:16px}
    .nav a{color: var(--muted)}
    .nav a:hover{color: var(--text)}

    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding:11px 14px;
      border-radius:14px;
      border: 1px solid rgba(0,0,0,.12);
      background: var(--btn);
      color:#071022;
      font-weight:800;
      box-shadow: var(--shadow);
      transition: transform .18s ease, filter .18s ease;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{transform: translateY(-2px); filter:brightness(1.05)}
    .btn:active{transform: translateY(0px) scale(.99)}
    .btn-ghost{
      background: var(--btn2);
      color: var(--text);
      box-shadow: none;
    }
    .btn-small{padding:8px 10px; border-radius:12px; font-weight:750}
    .btn-block{width:100%}

    .section{padding:34px 0}
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.90), rgba(255,255,255,.70));
      border: 1px solid var(--border);
      border-radius: var(--r);
      padding:16px;
      box-shadow: var(--shadow);
    }
    [data-theme="dark"] .card{
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,.03));
    }

    h1{
      font-size:36px;
      margin:0 0 10px 0;
      letter-spacing:-.02em;
    }
    @media(max-width:520px){h1{font-size:28px}}
    h2{margin:0 0 8px 0; font-size:22px}
    .muted{color: var(--muted)}
    .tiny{font-size:12px}
    .mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;}

    .grid2{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap: 14px;
      align-items:start;
    }
    @media(max-width:900px){
      .grid2{grid-template-columns:1fr}
    }

    label{font-size:12px; color: var(--muted)}
    input, select, textarea{
      width:100%;
      padding:10px 12px;
      border-radius:12px;
      border:1px solid rgba(0,0,0,.12);
      background: rgba(0,0,0,.03);
      color: var(--text);
      outline:none;
      font-size:14px;
    }
    [data-theme="dark"] input,
    [data-theme="dark"] select,
    [data-theme="dark"] textarea{
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.14);
    }
    input:focus, select:focus, textarea:focus{border-color: rgba(34,211,238,.75)}

    textarea{min-height:92px; resize: vertical}

    .field{display:grid; gap:6px; margin:10px 0}
    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .pill{
      display:inline-flex; align-items:center; gap:8px;
      padding:8px 10px; border-radius:999px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.03);
      color: var(--muted);
      font-size:13px;
    }
    [data-theme="dark"] .pill{background: rgba(255,255,255,.06)}

    .summary{
      border-radius: 18px;
      border: 1px solid var(--border);
      background: rgba(0,0,0,.03);
      padding: 14px;
    }
    [data-theme="dark"] .summary{background: rgba(255,255,255,.06)}

    .summary .line{
      display:flex;
      justify-content:space-between;
      gap:10px;
      margin: 8px 0;
      font-size: 14px;
    }
    .summary .total{
      font-weight: 900;
      font-size: 18px;
      margin-top: 10px;
      padding-top: 10px;
      border-top: 1px solid var(--border);
    }

    .copy-wrap{
      display:flex;
      gap:10px;
      align-items:center;
      flex-wrap:wrap;
      margin-top: 10px;
    }

    .footer{
      border-top: 1px solid var(--border);
      padding:16px 0;
      color: var(--muted);
    }
    .footer-row{display:flex; justify-content:space-between; align-items:center; gap:10px; flex-wrap:wrap}

    /* ‚úÖ Floating WhatsApp Support */
    .wa-float{
      position: fixed;
      right: 18px;
      bottom: 18px;
      z-index: 100;
      display:flex;
      gap:10px;
      align-items:center;
    }
    .wa-bubble{
      padding:10px 12px;
      border-radius: 16px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.92);
      box-shadow: var(--shadow);
      font-weight:800;
      font-size:13px;
      color: var(--text);
    }
    [data-theme="dark"] .wa-bubble{
      background: rgba(255,255,255,.08);
    }
    .wa-btn{
      width:54px;
      height:54px;
      border-radius:999px;
      border: 1px solid var(--border);
      background: linear-gradient(135deg, #25D366, #16a34a);
      display:grid;
      place-items:center;
      box-shadow: var(--shadow);
      cursor:pointer;
      transition: transform .18s ease;
    }
    .wa-btn:hover{transform: translateY(-2px)}
    .wa-btn span{font-size:22px; color:#04110b}
  </style>
</head>

<body>

  <header class="header">
    <div class="container header-row">
      <a class="brand" href="index.html" aria-label="Home">
        <img src="logo.png" alt="AccesProNp Logo" />
      </a>

      <nav class="nav">
        <a href="index.html#pricing">Pricing</a>
        <a href="index.html#reviews">Reviews</a>
        <a href="pay.html" class="btn btn-ghost">Pay / Order</a>
      </nav>

      <div class="row">
        <button class="btn btn-ghost btn-small" id="themeBtn" type="button">üåô Dark</button>
        <a class="btn btn-small" target="_blank"
           href="https://wa.me/9779744452908?text=Hi%20AccesProNp%2C%20I%20want%20to%20order.">
          WhatsApp
        </a>
      </div>
    </div>
  </header>

  <main class="section">
    <div class="container">

      <div class="card" style="margin-bottom:14px;">
        <h1>Pay / Order ‚úÖ</h1>
        <p class="muted" style="margin:0;">
          Choose product ‚Üí fill your details ‚Üí pay via eSewa ‚Üí send screenshot on WhatsApp ‚Üí activation ‚úÖ
        </p>

        <div class="row" style="margin-top:12px;">
          <span class="pill">WhatsApp: <span class="mono">9744452908</span></span>
          <span class="pill">eSewa Pay: <span class="mono" id="esewaNumText">9812766213</span></span>
          <span class="pill">Fast Delivery ‚ö°</span>
        </div>
      </div>

      <div class="grid2">

        <!-- ‚úÖ ORDER FORM -->
        <div class="card">
          <h2>Order Details</h2>
          <p class="muted tiny" style="margin-top:6px;">Select product and plan. Price updates automatically.</p>

          <div class="field">
            <label>Product</label>
            <select id="productSelect"></select>
          </div>

          <div class="field">
            <label>Plan / Duration</label>
            <select id="planSelect"></select>
          </div>

          <div class="field">
            <label>Your Name</label>
            <input id="custName" type="text" placeholder="Your full name" />
          </div>

          <div class="field">
            <label>WhatsApp Number</label>
            <input id="custWhatsApp" type="tel" placeholder="98XXXXXXXX" />
          </div>

          <div class="field">
            <label>Email / Account Username</label>
            <input id="custAccount" type="text" placeholder="Gmail / Spotify / Discord / Netflix username" />
          </div>

          <div class="field">
            <label>Extra Note (optional)</label>
            <textarea id="custNote" placeholder="Example: I want activation in my own account"></textarea>
          </div>

          <div class="row" style="margin-top:14px;">
            <button class="btn btn-ghost btn-small" id="copyEsewaBtn" type="button">üìã Copy eSewa Number</button>
            <span class="tiny muted" id="copyMsg"></span>
          </div>

          <div style="margin-top:14px;">
            <button class="btn btn-block" id="whatsappOrderBtn" type="button">‚úÖ Send Order on WhatsApp</button>
          </div>

          <div class="tiny muted" style="margin-top:10px;">
            After payment, send screenshot on WhatsApp for activation ‚úÖ
          </div>
        </div>

        <!-- ‚úÖ SUMMARY + PAYMENT INFO -->
        <div class="card">
          <h2>Order Summary</h2>
          <div class="summary">
            <div class="line">
              <span class="muted">Product</span>
              <b id="sumProduct">‚Äî</b>
            </div>
            <div class="line">
              <span class="muted">Plan</span>
              <b id="sumPlan">‚Äî</b>
            </div>
            <div class="line">
              <span class="muted">Price</span>
              <b id="sumPrice">Rs. 0</b>
            </div>
            <div class="line total">
              <span>Total</span>
              <span id="sumTotal">Rs. 0</span>
            </div>
          </div>

          <div class="card" style="margin-top:14px; padding:14px; box-shadow:none; background:rgba(0,0,0,.03);">
            <b>‚úÖ Payment Steps</b>
            <ol class="muted" style="margin-top:8px; padding-left:18px;">
              <li>Pay via eSewa / Khalti / FonePay ‚úÖ</li>
              <li>Send payment screenshot on WhatsApp ‚úÖ</li>
              <li>We activate your subscription instantly ‚ö°</li>
            </ol>

            <div class="copy-wrap">
              <span class="pill">eSewa Pay: <span class="mono">9812766213</span></span>
              <a class="btn btn-ghost btn-small" target="_blank"
                href="https://wa.me/9779744452908?text=Hi%20AccesProNp%2C%20I%20have%20paid.%20Here%20is%20my%20screenshot.">
                Send Screenshot ‚úÖ
              </a>
            </div>
          </div>

          <div class="tiny muted" style="margin-top:12px;">
            üîí Trusted Store ‚Ä¢ Verified reviews ‚Ä¢ Fast support ‚úÖ
          </div>
        </div>

      </div>

    </div>
  </main>

  <footer class="footer">
    <div class="container footer-row">
      <span>¬© <span id="year"></span> AccesProNp Trusted</span>
      <a href="index.html" class="muted">Home</a>
    </div>
  </footer>

  <!-- ‚úÖ Floating WhatsApp Support -->
  <div class="wa-float">
    <div class="wa-bubble">Support</div>
    <a class="wa-btn" target="_blank"
      href="https://wa.me/9779744452908?text=Hi%20AccesProNp%2C%20I%20need%20help%20about%20order.">
      <span>üí¨</span>
    </a>
  </div>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    /* ‚úÖ THEME TOGGLE */
    const themeBtn = document.getElementById("themeBtn");
    function applyTheme(t){
      document.documentElement.setAttribute("data-theme", t);
      localStorage.setItem("theme", t);
      themeBtn.textContent = (t === "dark") ? "‚òÄÔ∏è Light" : "üåô Dark";
    }
    const savedTheme = localStorage.getItem("theme") || "light";
    applyTheme(savedTheme);

    themeBtn.addEventListener("click", () => {
      const current = document.documentElement.getAttribute("data-theme") || "light";
      applyTheme(current === "dark" ? "light" : "dark");
    });

    /* ‚úÖ PRODUCTS + PLANS */
    const products = {
      "Netflix": [
        { plan:"1 Month", price:349 },
        { plan:"2 Months", price:549 },
        { plan:"3 Months", price:849 },
        { plan:"6 Months", price:1549 },
        { plan:"9 Months", price:2199 },
        { plan:"1 Year", price:2699 },
      ],
      "Spotify Premium": [
        { plan:"3 Months", price:899 },
        { plan:"6 Months", price:1599 },
        { plan:"1 Year", price:2299 },
      ],
      "YouTube Premium": [
        { plan:"3 Months", price:499 },
        { plan:"6 Months", price:899 },
        { plan:"1 Year", price:1549 },
      ],
      "Apple TV+": [
        { plan:"1 Month", price:329 },
        { plan:"3 Months", price:849 },
        { plan:"6 Months", price:1649 },
        { plan:"1 Year", price:3049 },
      ],
      "ChatGPT Plus": [
        { plan:"1 Month", price:499 },
        { plan:"2 Months", price:899 },
        { plan:"3 Months", price:949 },
        { plan:"6 Months", price:1349 },
        { plan:"1 Year", price:2849 },
      ],
      "Prime Video": [
        { plan:"6 Months", price:549 },
      ],

      /* ‚úÖ NEW PRODUCTS */
      "Google Gemini 1 Year": [
        { plan:"1 Year (2TB + Gemini AI)", price:1999 },
      ],
      "Perplexity Pro 1 Year": [
        { plan:"1 Year (Pro)", price:1799 },
      ],
      "Discord Nitro 3 Months": [
        { plan:"3 Months (Own Account)", price:599 },
      ],
      "Crunchyroll 1 Year": [
        { plan:"1 Year (Premium)", price:1999 },
      ],
    };

    const productSelect = document.getElementById("productSelect");
    const planSelect = document.getElementById("planSelect");

    const sumProduct = document.getElementById("sumProduct");
    const sumPlan = document.getElementById("sumPlan");
    const sumPrice = document.getElementById("sumPrice");
    const sumTotal = document.getElementById("sumTotal");

    function formatRs(n){
      return "Rs. " + Number(n).toLocaleString("en-NP");
    }

    function fillProducts(){
      productSelect.innerHTML = "";
      Object.keys(products).forEach((p) => {
        const opt = document.createElement("option");
        opt.value = p;
        opt.textContent = p;
        productSelect.appendChild(opt);
      });
    }

    function fillPlans(product){
      planSelect.innerHTML = "";
      products[product].forEach((x, idx) => {
        const opt = document.createElement("option");
        opt.value = idx;
        opt.textContent = `${x.plan} ‚Äî ${formatRs(x.price)}`;
        planSelect.appendChild(opt);
      });
    }

    function updateSummary(){
      const product = productSelect.value;
      const planObj = products[product][Number(planSelect.value)];
      sumProduct.textContent = product;
      sumPlan.textContent = planObj.plan;
      sumPrice.textContent = formatRs(planObj.price);
      sumTotal.textContent = formatRs(planObj.price);
    }

    fillProducts();
    fillPlans(productSelect.value);
    updateSummary();

    productSelect.addEventListener("change", () => {
      fillPlans(productSelect.value);
      updateSummary();
    });

    planSelect.addEventListener("change", updateSummary);

    /* ‚úÖ URL PREFILL (pay.html?product=Netflix) */
    const params = new URLSearchParams(window.location.search);
    const p = params.get("product");
    if(p){
      const decoded = decodeURIComponent(p);
      if(products[decoded]){
        productSelect.value = decoded;
        fillPlans(decoded);
        updateSummary();
      }
    }

    /* ‚úÖ COPY eSewa */
    const copyBtn = document.getElementById("copyEsewaBtn");
    const copyMsg = document.getElementById("copyMsg");
    copyBtn.addEventListener("click", async () => {
      try{
        await navigator.clipboard.writeText("9812766213");
        copyMsg.textContent = "Copied ‚úÖ";
        setTimeout(() => copyMsg.textContent = "", 2000);
      } catch(e){
        copyMsg.textContent = "Copy failed ‚ùå";
      }
    });

    /* ‚úÖ SEND ORDER TO WHATSAPP */
    const whatsappOrderBtn = document.getElementById("whatsappOrderBtn");
    whatsappOrderBtn.addEventListener("click", () => {
      const product = productSelect.value;
      const planObj = products[product][Number(planSelect.value)];

      const name = document.getElementById("custName").value.trim();
      const wa = document.getElementById("custWhatsApp").value.trim();
      const account = document.getElementById("custAccount").value.trim();
      const note = document.getElementById("custNote").value.trim();

      const msg =
`Hi AccesProNp ‚úÖ
I want to order:

üìå Product: ${product}
‚è≥ Plan: ${planObj.plan}
üí∞ Price: ${formatRs(planObj.price)}

üë§ Name: ${name || "-"}
üì± WhatsApp: ${wa || "-"}
üìß Account/Email: ${account || "-"}
üìù Note: ${note || "-"}

‚úÖ I will pay now and send screenshot.`;

      const url = "https://wa.me/9779744452908?text=" + encodeURIComponent(msg);
      window.open(url, "_blank");
    });
  </script>

</body>
</html>
